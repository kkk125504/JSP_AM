### 회원가입 기능 구현, return false; 중복 발송 방지


```jsp
    <script>
        var JoinForm__submitDone = false;
        function JoinForm__submit(form){
            if(JoinForm__submitDone){
                return;
            }

        form.loginId.value = form.loginId.value.trim();

        if(form.loginId.value.length==0){
            alert('아이디를 입력해주세요.');
            return;
        }

        form.loginPw.value = form.loginPw.value.trim();

        if(form.loginPw.value.length==0){
            alert('비밀번호를 입력해주세요.');
            return;
        }

        form.loginPwConfirm.value = form.loginPwConfirm.value.trim();

        if(form.loginPwConfirm.value.length==0){
            alert('비밀번호 확인을 입력해주세요.');
            return;
        }
        if(form.loginPw.value !=form.loginPwConfirm.value){
            alert('비밀번호가 일치하지 않습니다.');
            return;
        }

        form.name.value = form.name.value.trim();

        if(form.name.value.length==0){
            alert('이름을 입력해주세요.');
            return;
        }

        form.submit();
        JoinForm__submitDone = true;
    }
    </script>
```

- write와 동일한 방식으로 /member/join으로 요청이들어오면 해당하는 join서블릿이 실행되고
- 실행된 join서블릿은 join.jsp파일을 보여주고
- join.jsp에서 입력받은 데이터를 doJoin서블릿으로 요청하여 DB에 입력하는 방식
- ```function JoinForm__submit(form)함수```에서 
- form.loginId.value = form.loginId.value.trim();은 공백 입력을 방지
- if(form.loginId.value.length==0){  alert('아이디를 입력해주세요.');  return; }은
- 공백제거 후 길이가 0이라면 경고창을 띄우고 return
- \<form action="doJoin" method="post" onsubmit="JoinForm__submit(this); return false;">에서
- JoinForm__submit(this); this는 form태그를 의미한다
- onsubmit= return false; 이기때문에 전송을하지 못한다. form.submit();으로 수동 제출
- 이때 서버로 전송이 원활하지 않을때 중복전송을 방지하기위해 
- 첫번째 전송 후 JoinForm__submitDone = false;였던것을 true대입하여 
- 중복전송 시도시 전송을 하지못하게 함   
