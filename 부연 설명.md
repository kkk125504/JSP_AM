### 게시물 삭제 기능 구현, 리스트 구조 변경

**1\)게시물 삭제 기능**

```java
	try {
		conn = DriverManager.getConnection(url, user, password);

		int id = Integer.parseInt(request.getParameter("id"));

		SecSql sql = SecSql.from("DELETE");
		sql.append("FROM article");
		sql.append("WHERE id = ?", id);

		DBUtil.delete(conn, sql);

		response.getWriter().append(String.format("<script>alert('%d번 글이 삭제 되었습니다.'); location.replace('list');</script>", id));	
	} 
```

- list,detail 서블릿과 같이 DB에 연결하는 방식은 동일하다

- 삭제를 해야하기 때문에 쿼리문(DELETE FROM article WHERE id =?) 수정

- 삭제만 하기 때문에 따로 jsp파일로 보여줘야할것은 없으나 해당서블릿을 실행하면

- response.getWriter().append()로 따로 작성한게 없다면 화면이 빈페이지로 되있다.

- 자바스크립트를 사용하여 String.format("<script>alert('%d번 글이 삭제 되었습니다.'); 화면에 경고창을 띄워주고

-  location.replace("이동할URL"); 을 통해 다시 list로 이동

  

**2\)리스트 구조 변경**

```jsp
<h1>게시물 리스트</h1>	
	<table border="2" bordercolor="green">
		<colgroup>
			<col width ="50px"/>
			<col width ="200px"/>
		</colgroup>
	<tr>
		<th>번호</th><th>날짜</th><th>제목</th><th>삭제</th>
	</tr>
	<%for(Map<String, Object> articleRow : articleRows){ %>
	<tr>
		<td><%=(int)articleRow.get("id")%> 번</td><td><%=(LocalDateTime)articleRow.get("regDate") %></td><td><a href="detail?id=<%=(int)articleRow.get("id") %>"><%=(String)articleRow.get("title") %></a></td><td><a href="doDelete?id=<%=(int)articleRow.get("id")%>">삭제</a></td>
	</tr>	
	<%} %>		
	</table>
```

- ul태그 대신 table태그로 게시물들을 보여줌
- table의 속성으로 border와 bordercolor를 적용

- \<colgroup>태그를 이용해 요소 내부에 \<col> 요소를 포함하여 열마다 각각 다른 스타일을 적용.

- 테이블에 삭제링크 누르면 <a href="detail?id=<%=(int)articleRow.get("id") %> 로 이동하여 게시물 삭제함